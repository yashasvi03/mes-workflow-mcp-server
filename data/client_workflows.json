{
  "Demo Pharma": {
    "last_generated": "2025-10-28T09:06:52.120Z",
    "stage": "Complete-Granulation",
    "version": 9,
    "mermaid_code": "%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#e1f5ff','primaryTextColor':'#01579b','primaryBorderColor':'#0288d1','lineColor':'#546e7a','secondaryColor':'#fff9e1','tertiaryColor':'#f3e5f5'}}}%%\ngraph TB\n  classDef macroStyle fill:#0288d1,stroke:#01579b,stroke-width:4px,color:#ffffff,font-weight:bold,font-size:16px\n  classDef microStyle fill:#fff9e1,stroke:#f9a825,stroke-width:2px,color:#3e2723,font-size:14px\n  classDef loopStyle fill:#8e24aa,stroke:#4a148c,stroke-width:3px,color:#ffffff,font-weight:bold,font-size:14px\n  classDef exceptionStyle fill:#ffcdd2,stroke:#c62828,stroke-width:3px,stroke-dasharray:8 4,color:#b71c1c,font-weight:bold\n  classDef decisionStyle fill:#fff3e0,stroke:#e65100,stroke-width:3px,color:#e65100,font-weight:bold\n  classDef convergeStyle fill:#c8e6c9,stroke:#2e7d32,stroke-width:3px,color:#1b5e20,font-weight:bold\n  classDef dualPathStyle fill:#e1bee7,stroke:#6a1b9a,stroke-width:3px,color:#4a148c,font-weight:bold\n\n  START([ğŸ START DISPENSING])\n  style START fill:#4caf50,stroke:#2e7d32,stroke-width:4px,color:#ffffff,font-weight:bold,font-size:18px\n\n  M1[\"ğŸ“‹ PRE-DISPENSING &<br/>ROOM READINESS\"]\n  class M1 macroStyle\n  START --> M1\n\n  T001[\"ğŸ‘¤ Training & Role Gate\"]\n  T002[\"ğŸ“ Line Clearance Request\"]\n  T003[\"ğŸ§¹ Verify Batch Clearance<br/>& Remove Residuals\"]\n  class T001,T002,T003 microStyle\n\n  M1 --> T001\n  T001 --> T002\n  T002 --> T003\n\n  D004{\"â° Cleaning<br/>Hold-Time Valid?\"}\n  T004[\"âœ“ Hold-Time Check\"]\n  T005[\"âš ï¸ RE-CLEAN ROOM<br/>& Record\"]\n  class D004 decisionStyle\n  class T004 microStyle\n  class T005 exceptionStyle\n\n  T003 --> D004\n  D004 -->|YES| T004\n  D004 -.->|NO - Expired| T005\n  T005 -.-> T004\n\n  T006[\"ğŸŒ¡ï¸ Capture Environment<br/>RT/RH/DP\"]\n  T008[\"âš–ï¸ Balance Calibration<br/>Verification\"]\n  class T006,T008 microStyle\n\n  T003 --> T006\n  T003 --> T008\n\n  T009[\"âœ… QA Room Readiness<br/>Inspection & E-Sign\"]\n  class T009 convergeStyle\n\n  T004 --> T009\n  T006 --> T009\n  T008 --> T009\n\n  M2[\"ğŸ“¦ MATERIAL IDENTIFICATION<br/>ALLOCATION & STAGING\"]\n  class M2 macroStyle\n  T009 ==> M2\n\n  T010[\"ğŸ“„ Retrieve Production<br/>Order & BOM\"]\n  T011[\"ğŸ”„ Sync Material Master<br/>Data\"]\n  T012[\"ğŸ“Š Fetch Available<br/>Inventory Lots\"]\n  T013[\"ğŸ” Filter by Status<br/>& Retest Validity\"]\n  class T010,T011,T012,T013 microStyle\n\n  M2 --> T010\n  T010 --> T011\n  T011 --> T012\n  T012 --> T013\n\n  T014[\"ğŸ¯ SAP/ERP BATCH<br/>DETERMINATION\"]\n  style T014 fill:#bbdefb,stroke:#1565c0,stroke-width:3px,color:#0d47a1,font-weight:bold\n  T013 --> T014\n\n  T016[\"ğŸ“ Reserve & Stage<br/>to Dispensing Area\"]\n  T017[\"ğŸ” Identify Container<br/>& Verify Allocation\"]\n  class T016,T017 microStyle\n  T014 --> T016\n  T016 --> T017\n\n  M3[\"âš–ï¸ WEIGHING &<br/>DISPENSING\"]\n  class M3 macroStyle\n  T017 ==> M3\n\n  ROUTE{\"ğŸ”€ CONTAINER<br/>SEALED?<br/>(Material-Dependent)\"}\n  class ROUTE dualPathStyle\n  M3 --> ROUTE\n\n  LOOP_W_START((\"ğŸ”„ START<br/>WEIGHING<br/>LOOP\"))\n  class LOOP_W_START loopStyle\n  ROUTE -->|NO - Weigh| LOOP_W_START\n\n  T020[\"ğŸ“¦ Select Next<br/>Container\"]\n  class T020 microStyle\n  LOOP_W_START --> T020\n\n  D021{\"ğŸ” Container<br/>Damaged?\"}\n  T021[\"â›” QUARANTINE<br/>& Replace\"]\n  class D021 decisionStyle\n  class T021 exceptionStyle\n  T020 --> D021\n  D021 -.->|YES| T021\n  D021 -->|NO| T022\n\n  T022[\"âš–ï¸ Balance Suitability<br/>Check\"]\n  T023[\"ğŸ“ Select Weighing<br/>Method\"]\n  T024[\"âš–ï¸ Tare Container\"]\n  T025[\"ğŸ§ª Pull Assay & CoA<br/>Compute Adjusted Qty\"]\n  T026[\"ğŸ”¢ Apply UoM Conversion<br/>& Rounding\"]\n  class T022,T023,T024,T025,T026 microStyle\n\n  T022 --> T023\n  T023 --> T024\n  T024 --> T025\n  T025 --> T026\n\n  T027[\"âš–ï¸ WEIGH MATERIAL\"]\n  style T027 fill:#fff59d,stroke:#f57f17,stroke-width:3px,color:#f57f17,font-weight:bold,font-size:15px\n  T026 --> T027\n\n  D027S{\"ğŸ’§ Spill<br/>Detected?\"}\n  T027S[\"âš ï¸ SPILL WORKFLOW<br/>Cleanup & Log\"]\n  class D027S decisionStyle\n  class T027S exceptionStyle\n  T027 --> D027S\n  D027S -.->|YES| T027S\n  D027S -->|NO| T029\n\n  D029{\"ğŸ“ Within<br/>Tolerance?\"}\n  T029[\"âš ï¸ DEVIATION<br/>Handle per Policy\"]\n  class D029 decisionStyle\n  class T029 exceptionStyle\n  D029 -.->|NO| T029\n  D029 -->|YES| T030W\n\n  T030W[\"ğŸ·ï¸ Print & Affix<br/>Container Label\"]\n  T030VW[\"âœ“ Label Scanback<br/>Verification\"]\n  class T030W,T030VW microStyle\n  T030W --> T030VW\n\n  T031W[\"â• Update Running Total\"]\n  class T031W microStyle\n  T030VW --> T031W\n\n  D031W{\"ğŸ¯ Target<br/>Reached?\"}\n  class D031W decisionStyle\n  T031W --> D031W\n\n  LOOP_W_END((\"ğŸ”„ END<br/>WEIGHING<br/>LOOP\"))\n  class LOOP_W_END loopStyle\n  D031W -.->|NO| T020\n  D031W -->|YES| LOOP_W_END\n\n  LOOP_S_START((\"ğŸ”„ START<br/>SEALED<br/>LOOP\"))\n  class LOOP_S_START loopStyle\n  ROUTE -->|YES - Sealed| LOOP_S_START\n\n  T_S_002[\"ğŸ“¦ Scan Sealed Container<br/>Capture Declared Mass\"]\n  T_S_003[\"ğŸ” Verify Integrity<br/>& Eligibility\"]\n  T_S_004[\"ğŸ·ï¸ Print Dispensed<br/>Container Label\"]\n  T_S_005[\"â• Update Running Total\"]\n  class T_S_002,T_S_003,T_S_004,T_S_005 microStyle\n\n  LOOP_S_START --> T_S_002\n  T_S_002 --> T_S_003\n  T_S_003 --> T_S_004\n  T_S_004 --> T_S_005\n\n  D_S_005{\"ğŸ¯ Target<br/>Reached?\"}\n  class D_S_005 decisionStyle\n  T_S_005 --> D_S_005\n\n  LOOP_S_END((\"ğŸ”„ END<br/>SEALED<br/>LOOP\"))\n  class LOOP_S_END loopStyle\n  D_S_005 -.->|NO| T_S_002\n  D_S_005 -->|YES| LOOP_S_END\n\n  CONVERGE[\"ğŸ”— PATHS CONVERGE\"]\n  class CONVERGE convergeStyle\n  LOOP_W_END --> CONVERGE\n  LOOP_S_END --> CONVERGE\n\n  M5[\"ğŸ·ï¸ LABELING, RECONCILIATION<br/>& DOCUMENTATION\"]\n  class M5 macroStyle\n  CONVERGE ==> M5\n\n  T040[\"ğŸ‘ï¸ Label Preview<br/>& Validation\"]\n  T042[\"ğŸ“‹ Print Aggregate/<br/>Kit Label\"]\n  T044[\"âœ… Label Reconciliation<br/>(Printed vs Used vs Voided)\"]\n  class T040,T042,T044 microStyle\n\n  M5 --> T040\n  T040 --> T042\n  T042 --> T044\n\n  M6[\"ğŸ“¤ POST-DISPENSING<br/>TRANSFER & ERP POSTING\"]\n  class M6 macroStyle\n  T044 ==> M6\n\n  T050[\"ğŸ“ Assign Storage<br/>Location\"]\n  T051[\"ğŸ¤ Handover Scan<br/>(Chain of Custody)\"]\n  T052A[\"âœ“ ERP GI Posting<br/>Acknowledgement\"]\n  T053[\"ğŸ“Š Variance<br/>Reconciliation\"]\n  T054[\"âœ… Close Deviations<br/>& Attach Evidence\"]\n  T055[\"ğŸ“ Archive Logs<br/>& Finalize Record\"]\n  class T050,T051,T052A,T053,T054,T055 microStyle\n\n  M6 --> T050\n  T050 --> T051\n  T051 --> T052A\n  T052A --> T053\n  T053 --> T054\n  T054 --> T055\n\n  COMPLETE([ğŸ‰ DISPENSING COMPLETE])\n  style COMPLETE fill:#4caf50,stroke:#2e7d32,stroke-width:4px,color:#ffffff,font-weight:bold,font-size:18px\n  T055 ==> COMPLETE\n",
    "metadata": {
      "task_count": 0,
      "decision_count": 52,
      "macro_count": 0,
      "loop_count": 0
    }
  }
}