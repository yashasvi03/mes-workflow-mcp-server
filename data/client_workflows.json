{
  "Demo Pharma": {
    "last_generated": "2025-10-28T09:12:31.396Z",
    "stage": "Complete Granulation Workflow",
    "version": 10,
    "mermaid_code": "%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#e1f5ff','primaryTextColor':'#01579b','primaryBorderColor':'#0288d1','lineColor':'#546e7a','secondaryColor':'#fff9e1','tertiaryColor':'#f3e5f5'}}}%%\ngraph TB\n  classDef macroStyle fill:#0288d1,stroke:#01579b,stroke-width:4px,color:#ffffff,font-weight:bold,font-size:16px\n  classDef microStyle fill:#fff9e1,stroke:#f9a825,stroke-width:2px,color:#3e2723,font-size:14px\n  classDef loopStyle fill:#8e24aa,stroke:#4a148c,stroke-width:3px,color:#ffffff,font-weight:bold,font-size:14px\n  classDef exceptionStyle fill:#ffcdd2,stroke:#c62828,stroke-width:3px,stroke-dasharray:8 4,color:#b71c1c,font-weight:bold\n  classDef decisionStyle fill:#fff3e0,stroke:#e65100,stroke-width:3px,color:#e65100,font-weight:bold\n  classDef convergeStyle fill:#c8e6c9,stroke:#2e7d32,stroke-width:3px,color:#1b5e20,font-weight:bold\n\n  START([🏁 START GRANULATION])\n  style START fill:#4caf50,stroke:#2e7d32,stroke-width:4px,color:#ffffff,font-weight:bold,font-size:18px\n\n  M1[\"🔬 PRE-GRANULATION<br/>EQUIPMENT READINESS\"]\n  class M1 macroStyle\n  START --> M1\n\n  T101[\"📋 Retrieve Batch Order<br/>& Master Recipe\"]\n  T102[\"🧹 Request Line<br/>Clearance\"]\n  class T101,T102 microStyle\n  M1 --> T101\n  T101 --> T102\n\n  D103{\"✓ Cleaning<br/>Valid?\"}\n  T103A[\"✅ Cleaning<br/>Verification OK\"]\n  T103B[\"⚠️ RE-CLEAN<br/>Equipment\"]\n  class D103 decisionStyle\n  class T103A microStyle\n  class T103B exceptionStyle\n  T102 --> D103\n  D103 -->|YES| T103A\n  D103 -.->|NO| T103B\n  T103B -.-> T103A\n\n  D104{\"⚖️ Instruments<br/>Calibrated?\"}\n  T104A[\"✅ Calibration<br/>Valid\"]\n  T104B[\"⚠️ CALIBRATE<br/>or Block\"]\n  class D104 decisionStyle\n  class T104A microStyle\n  class T104B exceptionStyle\n  T103A --> D104\n  D104 -->|YES| T104A\n  D104 -.->|NO| T104B\n  T104B -.-> T104A\n\n  T105[\"🌡️ Monitor Environment<br/>T/RH - Automated\"]\n  class T105 microStyle\n  T104A --> T105\n\n  D106{\"🌡️ Environment<br/>Within Range?\"}\n  T106A[\"✅ Environment<br/>Acceptable\"]\n  T106B[\"⚠️ PAUSE<br/>Deviation\"]\n  class D106 decisionStyle\n  class T106A microStyle\n  class T106B exceptionStyle\n  T105 --> D106\n  D106 -->|YES| T106A\n  D106 -.->|NO| T106B\n  T106B -.-> T106A\n\n  T107[\"✅ Equipment<br/>Ready Sign-Off\"]\n  class T107 convergeStyle\n  T106A --> T107\n\n  M2[\"📦 MATERIAL TRANSFER<br/>& VERIFICATION\"]\n  class M2 macroStyle\n  T107 ==> M2\n\n  T201[\"📥 Receive Dispensed<br/>Materials\"]\n  T202[\"📱 Barcode Scan<br/>Mandatory Verification\"]\n  T203[\"🔍 Container Integrity<br/>Visual + Seal Check\"]\n  T204[\"✅ Material<br/>Verification Complete\"]\n  class T201,T202,T203,T204 microStyle\n  M2 --> T201\n  T201 --> T202\n  T202 --> T203\n  T203 --> T204\n\n  M3[\"💧 BINDER SOLUTION<br/>PREPARATION\"]\n  class M3 macroStyle\n  T204 ==> M3\n\n  T301[\"⚗️ Pre-Made Batch<br/>in Separate Vessel\"]\n  T302[\"🧪 QC Testing<br/>Concentration + pH\"]\n  T303[\"✅ Binder Solution<br/>Approved\"]\n  class T301,T302,T303 microStyle\n  M3 --> T301\n  T301 --> T302\n  T302 --> T303\n\n  M4[\"🔄 GRANULATION<br/>PROCESS\"]\n  class M4 macroStyle\n  T303 ==> M4\n\n  T401[\"📋 Load MES Master<br/>Recipe & Setpoints\"]\n  T402[\"🎛️ Configure SCADA<br/>Automated Setpoints\"]\n  class T401,T402 microStyle\n  M4 --> T401\n  T401 --> T402\n\n  D403{\"⚙️ Wet Granulation<br/>Setpoints OK?\"}\n  T403A[\"✅ Setpoints<br/>Within Range\"]\n  T403B[\"⚠️ ADJUST<br/>or Block\"]\n  class D403 decisionStyle\n  class T403A microStyle\n  class T403B exceptionStyle\n  T402 --> D403\n  D403 -->|YES| T403A\n  D403 -.->|NO| T403B\n  T403B -.-> T403A\n\n  T404[\"💧 Continuous Spray<br/>Binder Addition\"]\n  T405[\"🔄 Automated Data<br/>Capture - SCADA\"]\n  T406[\"📊 Monitor Process<br/>Parameters\"]\n  class T404,T405,T406 microStyle\n  T403A --> T404\n  T404 --> T405\n  T405 --> T406\n\n  D407{\"🎯 Endpoint<br/>Reached?\"}\n  class D407 decisionStyle\n  T406 --> D407\n  D407 -.->|NO - Continue| T406\n  D407 -->|YES| T408\n\n  T408[\"🛑 Stop Granulation<br/>Process\"]\n  class T408 microStyle\n\n  D409{\"🔧 Equipment<br/>Failure?\"}\n  T409A[\"✅ Process<br/>Complete\"]\n  T409B[\"⚠️ TERMINATE<br/>Batch\"]\n  class D409 decisionStyle\n  class T409A microStyle\n  class T409B exceptionStyle\n  T408 --> D409\n  D409 -->|NO| T409A\n  D409 -.->|YES - Cannot Recover| T409B\n\n  T410[\"🧪 IPC Testing<br/>Moisture/PSD/Bulk Density\"]\n  T411[\"📤 Auto-Import from LIMS\"]\n  class T410,T411 microStyle\n  T409A --> T410\n  T410 --> T411\n\n  D412{\"📊 IPC Results<br/>Within Spec?\"}\n  T412A[\"✅ IPC<br/>Acceptable\"]\n  T412B[\"⚠️ DEVIATION<br/>Workflow - MES Integrated\"]\n  class D412 decisionStyle\n  class T412A microStyle\n  class T412B exceptionStyle\n  T411 --> D412\n  D412 -->|YES| T412A\n  D412 -.->|NO| T412B\n  T412B -.-> T412A\n\n  T413[\"🧮 Auto-Calculate<br/>Binder % & Yield\"]\n  class T413 microStyle\n  T412A --> T413\n\n  M5[\"📤 POST-GRANULATION<br/>HANDLING\"]\n  class M5 macroStyle\n  T413 ==> M5\n\n  T501[\"🏷️ Print GS1-128<br/>Barcode + Manual Fields\"]\n  T502[\"✅ Label<br/>Verification\"]\n  T503[\"🧪 Collect Retain Sample<br/>with Chain-of-Custody\"]\n  T504[\"📍 Transfer to<br/>Intermediate Hold Area\"]\n  class T501,T502,T503,T504 microStyle\n  M5 --> T501\n  T501 --> T502\n  T502 --> T503\n  T503 --> T504\n\n  D505{\"👨‍🔬 QA Release<br/>Decision?\"}\n  T505A[\"✅ Released\"]\n  T505B[\"⛔ Hold\"]\n  T505C[\"🔄 Conditional<br/>Rework\"]\n  class D505 decisionStyle\n  class T505A convergeStyle\n  class T505B exceptionStyle\n  class T505C exceptionStyle\n  T504 --> D505\n  D505 -->|APPROVED| T505A\n  D505 -.->|REJECTED| T505B\n  D505 -.->|CONDITIONAL| T505C\n\n  T506[\"📊 Yield Variance<br/>Check ±5%\"]\n  class T506 microStyle\n  T505A --> T506\n\n  D507{\"📉 Variance<br/>Within Threshold?\"}\n  T507A[\"✅ Yield<br/>Acceptable\"]\n  T507B[\"⚠️ INVESTIGATION<br/>Triggered\"]\n  class D507 decisionStyle\n  class T507A microStyle\n  class T507B exceptionStyle\n  T506 --> D507\n  D507 -->|YES - Within ±5%| T507A\n  D507 -.->|NO - Exceeds ±5%| T507B\n  T507B -.-> T507A\n\n  T508[\"🧹 Initiate Cleaning<br/>After Each Batch\"]\n  class T508 microStyle\n  T507A --> T508\n\n  M6[\"📋 BATCH RECORD<br/>CLOSEOUT\"]\n  class M6 macroStyle\n  T508 ==> M6\n\n  T601[\"📝 Generate Full<br/>Electronic eBMR\"]\n  T602[\"✍️ 21 CFR Part 11<br/>Electronic Signatures\"]\n  T603[\"📊 ERP Posting<br/>On QA Approval\"]\n  class T601,T602,T603 microStyle\n  M6 --> T601\n  T601 --> T602\n  T602 --> T603\n\n  D604{\"👨‍🔬 QA Batch<br/>Review?\"}\n  T604A[\"✅ Batch<br/>Approved\"]\n  T604B[\"⛔ Batch<br/>Rejected\"]\n  T604C[\"⏸️ Pending<br/>Investigation\"]\n  class D604 decisionStyle\n  class T604A convergeStyle\n  class T604B exceptionStyle\n  class T604C exceptionStyle\n  T603 --> D604\n  D604 -->|APPROVED| T604A\n  D604 -.->|REJECTED| T604B\n  D604 -.->|CONDITIONAL| T604C\n\n  T605[\"📁 Electronic Archive<br/>Validated System\"]\n  T606[\"✅ Records Retention<br/>per Policy\"]\n  class T605,T606 microStyle\n  T604A --> T605\n  T605 --> T606\n\n  COMPLETE([🎉 GRANULATION COMPLETE])\n  style COMPLETE fill:#4caf50,stroke:#2e7d32,stroke-width:4px,color:#ffffff,font-weight:bold,font-size:18px\n  T606 ==> COMPLETE\n",
    "metadata": {
      "task_count": 28,
      "decision_count": 52,
      "macro_count": 8,
      "loop_count": 2
    }
  }
}